(this.webpackJsonpchat_client=this.webpackJsonpchat_client||[]).push([[0],{30:function(e,n,t){},51:function(e,n,t){e.exports=t(92)},56:function(e,n,t){},77:function(e,n){},79:function(e,n){},92:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),o=t(43),s=t.n(o),r=(t(56),t(30),t(28)),d=t(8),u=t(9),c=t(11),l=t(10),h=t(12),m=t(5),p=t(7),g=t(6),f=t(13),w=t(48);function v(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n"]);return v=function(){return e},e}function b(){var e=Object(m.a)(["\n    border-bottom: ",";\n    font-size: ",";\n    color: ",";\n"]);return b=function(){return e},e}function O(){var e=Object(m.a)(["\n    background: ",";\n    border-radius: ",";\n    padding: 10px;\n    box-shadow: 0px 3px 10px rgba(0,0,0,0.9);\n"]);return O=function(){return e},e}var E=function(e){function n(e){var t;return Object(d.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).state={width:0,height:0,message:"test"},t.updateWindowDimensions=t.updateWindowDimensions.bind(Object(p.a)(t)),t.handleMessageChange=t.handleMessageChange.bind(Object(p.a)(t)),t.sendMessage=t.sendMessage.bind(Object(p.a)(t)),t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"handleMessageChange",value:function(e){this.setState({message:e.target.value})}},{key:"sendMessage",value:function(){this.props.send(this.state.message)}},{key:"render",value:function(){return i.a.createElement(j,{style:{height:70}},i.a.createElement(x,null),i.a.createElement(y,null,i.a.createElement(f.a,{style:{width:this.state.width,paddingRight:5}},i.a.createElement(f.a.Control,{onChange:this.handleMessageChange,placeholder:"Type message"})),i.a.createElement(w.a,{onClick:this.sendMessage},"send")))}}]),n}(i.a.Component),j=g.a.div(O(),"#121212","8px"),x=g.a.h1(b(),"2px solid #386bc2","20px","#FFFFFF"),y=g.a.div(v());function W(){var e=Object(m.a)(["\n    color: ",";\n    font-size: ",';\n    height: "100%";\n']);return W=function(){return e},e}function S(){var e=Object(m.a)(["\n    border-bottom: ",";\n    font-size: ",";\n    color: ",";\n    padding: ",';\n    height: "100%";\n']);return S=function(){return e},e}function k(){var e=Object(m.a)(["\n    background: ",";\n    border-radius: ",";\n    padding: ",';\n    height: "100%";\n    box-shadow: 0px 3px 10px rgba(0,0,0,0.9);\n    overflow-y: auto;\n']);return k=function(){return e},e}var D=function(e){function n(e){var t;return Object(d.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).state={width:0,height:0},t.updateWindowDimensions=t.updateWindowDimensions.bind(Object(p.a)(t)),t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){var e=this.props.users,n=(void 0===e?["No one else is logged in yet"]:e).map((function(e){return i.a.createElement(C,null,e)}));return i.a.createElement(L,{style:{height:.7*this.state.height,width:.2*this.state.width}},i.a.createElement(F,null,"Active Users"),n)}}]),n}(i.a.Component),L=g.a.div(k(),"#121212","8px","15px"),F=g.a.h1(S(),"2px solid #386bc2","20px","#FFFFFF","15px"),C=g.a.p(W(),"#dbdbdb","15px");function z(){var e=Object(m.a)(["\n    border-bottom: ",";\n    font-size: ",";\n    color: ",";\n    padding: ",";\n"]);return z=function(){return e},e}function U(){var e=Object(m.a)(["\n    background: ",";\n    border-radius: ",";\n    padding: ",";\n    box-shadow: 0px 3px 10px rgba(0,0,0,0.9);\n"]);return U=function(){return e},e}var N=function(e){function n(e){var t;return Object(d.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).state={userName:"enter username",passWord:"enter password",url:"enter url",width:0,height:0,showLogin:1},t.handleLogin=t.handleLogin.bind(Object(p.a)(t)),t.handleUsernameChange=t.handleUsernameChange.bind(Object(p.a)(t)),t.handlePasswordChange=t.handlePasswordChange.bind(Object(p.a)(t)),t.handleURLChange=t.handleURLChange.bind(Object(p.a)(t)),t.updateWindowDimensions=t.updateWindowDimensions.bind(Object(p.a)(t)),t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"handleLogin",value:function(){this.props.loginHandler(this.state.url,this.state.userName,this.state.passWord)}},{key:"handleUsernameChange",value:function(e){this.setState({userName:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({passWord:e.target.value})}},{key:"handleURLChange",value:function(e){this.setState({url:e.target.value})}},{key:"render",value:function(){return i.a.createElement("div",{style:{width:window.innerWidth,height:window.innerHeight}},i.a.createElement(M,{style:{width:.5*window.innerWidth,position:"absolute",bottom:.4*window.innerHeight,left:.2*window.innerWidth}},i.a.createElement(T,null,"Login"),i.a.createElement(f.a,null,i.a.createElement(f.a.Group,{controlId:"formBasicEmail"},i.a.createElement(f.a.Label,{className:"login-form"},"Chat URL"),i.a.createElement(f.a.Control,{onChange:this.handleURLChange,placeholder:this.state.url})),i.a.createElement(f.a.Group,{controlId:"formBasicEmail"},i.a.createElement(f.a.Label,{className:"login-form"}," Username "),i.a.createElement(f.a.Control,{onChange:this.handleUsernameChange,placeholder:this.state.userName})),i.a.createElement(f.a.Group,{controlId:"formBasicPassword"},i.a.createElement(f.a.Label,{className:"login-form"},"Password"),i.a.createElement(f.a.Control,{onChange:this.handlePasswordChange,type:"password",placeholder:this.state.passWord})),i.a.createElement("button",{onClick:this.handleLogin,type:"button",class:"btn btn-outline-primary"},"Submit"))))}}]),n}(i.a.Component),M=g.a.div(U(),"#121212","8px","15px"),T=g.a.h1(z(),"2px solid #386bc2","20px","#FFFFFF","15px");function H(){var e=Object(m.a)(["\n    color: ",";\n    font-size: ",';\n    height: "100%";\n']);return H=function(){return e},e}function I(){var e=Object(m.a)(["\n    border-bottom: ",";\n    font-size: ",";\n    color: ",";\n    padding: ",";\n"]);return I=function(){return e},e}function J(){var e=Object(m.a)(["\n    background: ",";\n    border-radius: ",";\n    padding: ",";\n    box-shadow: 0px 3px 7px rgba(0,0,0,0.9);\n    overflow-y: auto;\n"]);return J=function(){return e},e}var B=function(e){function n(e){var t;return Object(d.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).scrollToBottom=function(){t.messagesEnd.scrollIntoView({behavior:"smooth"})},t.state={width:0,height:0},t.updateWindowDimensions=t.updateWindowDimensions.bind(Object(p.a)(t)),t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){var e=this,n=this.props.messages,t=(void 0===n?["No messages to display yet"]:n).map((function(e){return i.a.createElement(A,null,e)}));return i.a.createElement(P,{style:{height:.7*this.state.height,width:.73*this.state.width}},i.a.createElement(R,null,"Beginning of Messages"),t,i.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(n){e.messagesEnd=n}}))}}]),n}(i.a.Component),P=g.a.div(J(),"#121212","8px","15px"),R=g.a.h1(I(),"2px solid #386bc2","20px","#FFFFFF","15px"),A=g.a.p(H(),"#dbdbdb","15px");function G(){var e=Object(m.a)(["\n    border-left: ",";\n    font-size: ",";\n    color: ",";\n    padding-left: 10px;\n"]);return G=function(){return e},e}function _(){var e=Object(m.a)(["\n    border-left: ",";\n    font-size: ",";\n    color: ",";\n    padding-left: 10px;\n"]);return _=function(){return e},e}function q(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n"]);return q=function(){return e},e}function X(){var e=Object(m.a)(["\n    padding-left: 10px;\n    font-size: ",";\n    color: ",";\n    &:hover {\n        cursor: pointer;\n    };\n"]);return X=function(){return e},e}var V=function(e){function n(e){var t;return Object(d.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).state={width:0,height:0},t.updateWindowDimensions=t.updateWindowDimensions.bind(Object(p.a)(t)),t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){var e=this.props,n=e.user,t=e.status,a=e.logout,o=e.login,s=e.action;return i.a.createElement(K,null,"you are logged in"===t?i.a.createElement(Q,null,"Hello, ",n," ",t):i.a.createElement(Y,null,"Hello, ",t),i.a.createElement($,{onClick:"Log in"===s?o:a},s))}}]),n}(i.a.Component),$=g.a.h1(X(),"30px","2px solid #13cf48"),K=g.a.div(q()),Q=g.a.h1(_(),"2px solid #13cf48","30px","#FFFFFF"),Y=g.a.h1(G(),"2px solid #cf1515","30px","#FFFFFF");function Z(){var e=Object(m.a)(["\n    color: ",";\n    font-size: ",";\n    padding: ",";\n"]);return Z=function(){return e},e}function ee(){var e=Object(m.a)(["\n    color: ",";\n    font-size: ",";\n    padding: ",";\n    font-style: italic;\n"]);return ee=function(){return e},e}function ne(){var e=Object(m.a)(["\n    border-left: ",";\n    font-size: ",";\n    color: ",";\n    padding: ",";\n    font-weight: bold;\n"]);return ne=function(){return e},e}function te(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n"]);return te=function(){return e},e}var ae=function(e){function n(e){var t;return Object(d.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).state={width:0,height:0},t.updateWindowDimensions=t.updateWindowDimensions.bind(Object(p.a)(t)),t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"date_format",value:function(e){var n=new Date(1e3*e);return n.toLocaleDateString("en-US")+" "+n.toLocaleTimeString("en-US")}},{key:"render",value:function(){var e=this.props,n=e.time,t=void 0===n?0:n,a=e.user,o=void 0===a?0:a,s=e.text,r=void 0===s?0:s;return i.a.createElement(ie,null,i.a.createElement(oe,null," ",o," "),i.a.createElement(se,null," ",this.date_format(t)," "),i.a.createElement(re,null," ",r," "))}}]),n}(i.a.Component),ie=g.a.div(te()),oe=g.a.p(ne(),"2px solid #386bc2","15px","#FFFFFF","15px"),se=g.a.p(ee(),"#dbdbdb","15px","15px"),re=g.a.p(Z(),"#dbdbdb","15px","15px"),de=t(62),ue=null,ce=function(e){function n(e){var t;return Object(d.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).state={showLogin:!0,loggedInStatus:"you are not logged in.",user:"Jake",action:"Log in",messages:[],users:[]},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this,n=function(e){var n=new Date(1e3*e);return n.toLocaleDateString("en-US")+" "+n.toLocaleTimeString("en-US")},t=function(){e.setState({loggedInStatus:"you are not logged in",users:[],action:"Log in",messages:[]})},a=function(){e.setState({showLogin:!0})},o=function(n){e.setState({messages:[].concat(Object(r.a)(e.state.messages),[i.a.createElement(ae,{user:n.user,time:n.created,text:n.message})])})},s=function(n){e.setState({users:n})},d=function(){ue=new de(sessionStorage.url+"/stream/"+sessionStorage.accessToken),e.setState({showLogin:!1}),ue.addEventListener("Disconnect",(function(e){JSON.parse(e.data);ue.close(),t(),delete sessionStorage.accessToken,a()}),!1),ue.addEventListener("Join",(function(t){var a,i;try{a=JSON.parse(t.data),i=a.user,s([].concat(Object(r.a)(e.state.users),[i])),o({user:a.user,time:n(a.created),message:"JOINED"})}catch(d){console.log("Too bad so sad",d)}}),!1),ue.addEventListener("Message",(function(e){var n=JSON.parse(e.data);o(n)}),!1),ue.addEventListener("Server Status",(function(e){var t=JSON.parse(e.data),a={user:"Server Status",time:n(t.created),text:t.status};o(a)}),!1),ue.addEventListener("Users",(function(n){var t;try{t=JSON.parse(n.data),e.setState({loggedInStatus:"you are logged in",user:sessionStorage.username,action:"Log out"}),s(t.users)}catch(a){}}),!1),ue.addEventListener("Part",(function(t){var a=JSON.parse(t.data);!function(n){var t=e.state.users.filter((function(e,t,a){return e!=n}));s(t)}(a.user),o({user:a.user,time:n(a.created),message:"PART"})}),!1),ue.addEventListener("error",(function(e){t(),delete sessionStorage.accessToken,a()}),!1)};return i.a.createElement("div",{className:"App"},this.state.showLogin&&i.a.createElement("div",{className:"Login"},i.a.createElement(N,{loginHandler:function(e,n,t){var a=new XMLHttpRequest,i=new FormData;i.append("password",t),i.append("username",n),sessionStorage.url="https://cors-anywhere.herokuapp.com/"+e,sessionStorage.username=n,a.open("POST",sessionStorage.url+"/login"),a.onreadystatechange=function(){4==this.readyState&&(201===this.status?(t="",n="",e="",sessionStorage.accessToken=JSON.parse(this.responseText).token,d()):403===this.status?alert("Invalid username or password"):alert(this.status+"failure to /login"))},a.send(i)}})),i.a.createElement("div",{className:"Greeting"},i.a.createElement(V,{user:this.state.user,status:this.state.loggedInStatus,logout:t,login:a,action:this.state.action})),i.a.createElement("div",{className:"Messages"},i.a.createElement(B,{messages:this.state.messages})),i.a.createElement("div",{className:"Users"},i.a.createElement(D,{users:this.state.users})),i.a.createElement("div",{className:"Input"},i.a.createElement(E,{send:function(e){if(void 0!==sessionStorage.accessToken&&""!==e.value){var n=new FormData;n.append("message",e);var t=new XMLHttpRequest;t.open("POST",sessionStorage.url+"/message"),t.setRequestHeader("Authorization","Bearer "+sessionStorage.accessToken),t.send(n)}}})))}}]),n}(i.a.Component);t(91);var le=function(){return i.a.createElement(ce,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[51,1,2]]]);
//# sourceMappingURL=main.7cfd22b0.chunk.js.map